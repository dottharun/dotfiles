#!/bin/bash

alias ls="ls --color -G --group-directories-first"
alias ll="ls -la"
alias l="ls -aF"

#watch memory
alias mem="watch -t '\$(which ps_mem) -p \$(pgrep -d, -u \$USER) | tac'"

# mem() {
#     watch -t -n 1 "
#         ps_mem_path=\$(which ps_mem)
#         pids=\$(pgrep -d, -u \$USER)
#         \$ps_mem_path -p \$pids | tac
#     "
# }

#nvim
alias n="nvim ."
alias 1="nvim -c 'lua require(\"harpoon\"):list():select(1)'"
alias 2="nvim -c 'lua require(\"harpoon\"):list():select(2)'"
alias 3="nvim -c 'lua require(\"harpoon\"):list():select(3)'"
alias 4="nvim -c 'lua require(\"harpoon\"):list():select(4)'"

# typing test with nvim
alias tt="nvim +DuckyType"

cd() {
    builtin cd "${@:-$HOME}" && ls
}

#tmux sessionizer - for bash
alias cf='tmux-sessionizer'

# Edit/Source zsh config
alias ez='nvim ~/.zsh_profile'
alias sz='source ~/.zshrc'

alias eb='nvim ~/.bashrc'
alias sb='source ~/.bashrc'

# Project helpers
alias ..='cd ../'
alias ...='cd ../../'
alias ....='cd ../../../'
alias .....='cd ../../../../'
alias .3='cd ../../../'
alias .4='cd ../../../../'
alias .5='cd ../../../../../'
alias .6='cd ../../../../../../'

#git
alias lg='lazygit'

# [f]uzzy check[o]ut
fo() {
  git branch --sort=-committerdate | fzf --header "Checkout Recent Branch" --preview "git diff {1} --color=always" | xargs git checkout
}

# [p]r check[o]ut
# TODO: limit set at 500 --might cause problems
po() {
    GH_FORCE_TTY=100% gh pr list --limit 500 | fzf --ansi --preview 'GH_FORCE_TTY=100% gh pr view {1}' --preview-window down --header-lines 3 | awk '{print $1}' | xargs gh pr checkout
}

#gdb frontend
alias gf='gf2'

#for running detached processes
run_detached() {
    nohup "$@" </dev/null >/dev/null 2>&1 &
    disown
}

# for i3lock sleep
alias sleepi3="i3lock -c 000000"

# bluetooth
alias headphones="until bluetoothctl connect 40:C1:F6:FF:DB:14; do  echo ...  ; sleep 1; done"

# for todoist-cli
# write td with the entire line as input no worries
function addTodoFunc() {
	todoist-cli add --date today "$*";
};

alias td='addTodoFunc'
alias tdl='todoist-cli list'

# obs-studio flatpak installation
alias obs='flatpak run com.obsproject.Studio'

# kubernetes
alias k='kubectl'

# meshery
alias m='mesheryctl'
